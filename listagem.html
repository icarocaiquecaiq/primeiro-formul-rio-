<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="formulário.css">
    <script src="https://code.jquery.com/jquery-3.6.3.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>

    <title>listagem</title>
</head>

<script>

    listar()

    $(function teste() {
        $("#enviar").click(function () {
            
            var info = {
                item:$("#item").val(),
                entrada:$("#entrada").val(),
                saída: $("#saída").val(),
                estoque: $("#estoque").val()   
            }

            var itensStorage= JSON.parse (localStorage.getItem('contatos'))
               

            if (itensStorage == null) {
                itensStorage=[]
            }

            itensStorage.push(info)

            localStorage.setItem("contatos",JSON.stringify(itensStorage))

            $('input').val('')
            $('#item').focus()  
            
            listar()
            
            
        })   
        
        
        
        
        
    })
    
    
    function listar() {

        $("#lista tr:not(:first)").remove()

        var itensStorage= JSON.parse (localStorage.getItem('contatos'))
            
        for (var listagem in itensStorage) {  

            var teste=(itensStorage[listagem])

            var linha= '<tr><td>' + teste.item + '</td><td>'+teste.entrada + '</td><td>'+teste.saída + '</td><td>' + teste.estoque + '</td></tr>'


            $('#lista tr:last').after(linha)
    }} 
    
        

         
    
    


</script>

<body>

    <div class="container-fluid">
        <div class=" text-center">
            <h1 class="titulo"> STOQX </h1>
        </div>
    </div>
    


    <div class="container">
        <div class="row">
            <div class="panel panel-primary">
                <div class="text-center">
                <h2 id="titulo2">seu estoque</h2>
                </div>            
                
                <div class="panel-body">
                    <div class=" col-lg-3 col-md-6 col-sm-4 col-xs-12">
                        <label for="item">item</label>
                        <input id="item" type="text" class="form-control"  maxlength="20" placeholder="ex: tesouras,canetas">
                    </div>
                    <div class="col-lg-3 col-md-6 col-sm-4 col-xs-12 ">
                        <label for="entrada">entrada</label>
                        <input id="entrada" type="text"  class="form-control" maxlength="13" placeholder="nº de entrada:">
                    </div>
                    <div class="col-lg-3 col-md-6 col-sm-4 col-xs-12">
                        <label for="saída">saída</label>
                        <input id="saída" type="text"  class="form-control"  maxlength="13" placeholder="nº de saída:">
                    </div>                
                    <div class="col-lg-2 col-md-6 col-sm-3 col-xs-12 ">
                        <label for="estoque">estoque</label>
                        <input id="estoque" type="text"  class="form-control"  maxlength="13" placeholder="estoque geral:">
                    </div>                  
                    <div class="col-lg-1 col-md-1 col-sm-1 col-xs-12 ">
                        <br>                    
                        <button  id="enviar" class=" btn btn-primary" type="button">enviar</button>
                    </div>                                
                </div>      
            </div>         
        </div>
    </div>

   <br>
   <br>

    <div class="container test">
        <div class="test col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <table id="lista" class="table table-striped table-responsive table-hover"> 
                <tbody>
                    <th>item</th>
                    <th>entrada</th>
                    <th>saída</th>
                    <th>estoque<th>
                </tbody>
            </table>
        </div>
    </div>

</body>
</html>